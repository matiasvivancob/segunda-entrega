
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>El cobre en Chile</title>
    <link rel="icon" href="img/favicon.png" type="image/x-icon"/>
    <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon"/>

    <!--
    color aquí 
    los metadatos 
    que puedan generar 
    con https://megatags.co/
    -->

    <!-- COMMON TAGS -->
    <meta charset="utf-8">
    <title>El cobre en Chile</title>
    <!-- Search Engine -->
    <meta name="description" content="Algunos datos interesantes acerca del mineral más importante del país.">
    <meta name="image" content="https://vignette.wikia.nocookie.net/fortnite/images/9/9e/Icon_Metal_Copper.png/revision/latest/scale-to-width-down/480?cb=20170806015414">
    <!-- Schema.org for Google -->
    <meta itemprop="name" content="El cobre en Chile">
    <meta itemprop="description" content="Algunos datos interesantes acerca del mineral más importante del país.">
    <meta itemprop="image" content="https://vignette.wikia.nocookie.net/fortnite/images/9/9e/Icon_Metal_Copper.png/revision/latest/scale-to-width-down/480?cb=20170806015414">
    <!-- Open Graph general (Facebook, Pinterest & Google+) -->
    <meta name="og:title" content="El cobre en Chile">
    <meta name="og:description" content="Algunos datos interesantes acerca del mineral más importante del país.">
    <meta name="og:image" content="https://vignette.wikia.nocookie.net/fortnite/images/9/9e/Icon_Metal_Copper.png/revision/latest/scale-to-width-down/480?cb=20170806015414">
    <meta name="og:site_name" content="El cobre en Chile">
    <meta name="og:locale" content="es_ES">
    <meta name="og:type" content="website">
    
    <!-- Vamos a buscar el CSS de Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <!--Vamos a buscar el CSS de Font Awesome-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <!-- Vamos por nuestro CSS, basado en https://startbootstrap.com/template-overviews/grayscale/ -->
    <link href="style.css" rel="stylesheet">
    <!-- Aquí vamos por el estilo y script del mapa-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin="" />
    
    <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA==" crossorigin=""></script>
    
</head>

<body id="page-top">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
        <div class="container">
            <a class="navbar-brand js-scroll-trigger" href="#page-top"><span class="titular"></span></a>
            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                Menu
                <i class="fas fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#dataviz">Visualizaciones</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Este encabezado viene de https://startbootstrap.com/snippets/video-header/ -->
    <header>
        <div class="overlay"></div>
        <video playsinline="playsinline" autoplay="autoplay" muted="muted" loop="loop">
            <!--Favor revisar https://www.w3schools.com/html/html5_video.asp-->
            <source src="video/minero.mp4" type="video/mp4">
        </video>
        <div class="container h-100">
            <div class="d-flex text-center h-100">
                <div class="my-auto w-100 text-white">
                    <h1 class="display-3 titular"></h1>
                    <h5>Algunos datos acerca del cobre en el país sudamericano</h5>
                    <p class="pt-3"><a href="#about"><i class="fas fa-3x fa-arrow-alt-circle-down"></i></a></p>
                </div>
            </div>
        </div>
    </header>
    <!-- About Section -->
    <section id="about" class="about-section text-center">
        <div class="container">
            <div class="row">
                <div id=info class="col-lg-8 mx-auto">
                    
                    <h2 class="text-white mb-4">La importancia del cobre en Chile</h2>
                    <p class="text-white-50">La minería es una de las principales actividades de la economía chilena. Actualmente aporta el 9 % del PIB nacional, y es el área con mayor inversión extranjera con un 33,3 % del total. Chile país es el principal productor a nivel mundial de cobre.
                    <p class="text-white-50">Escondida es actualmente la mina de mayor producción de cobre en el mundo.</p>
                    <p class="text-white-50">En 2016 se produjeron 5545 miles de toneladas métricas de cobre en Chile, lo que representó un 27% de la producción mundial. El país sigue ubicado como el máximo productor de este metal, seguido de Perú con un 11% y China con un 9%. El 90% del cobre que actualmente se produce proviene de la minería a cielo abierto.</p>
                </div>
            </div>
            <img src="media/ipad.png" class="img-fluid" alt="">
        </div>
    </section>

    <!-- dataviz Section -->
    <section id="dataviz" class="dataviz-section bg-ligth">
        <div class="container">

            <!-- MAPA -->
            <div class="row align-items-center no-gutters mb-4 mb-lg-5">
                <div class="col-xl-8 col-lg-7">
                    <div id="leaflet"></div>
                </div>
                <div class="col-xl-4 col-lg-5">
                    <div class="featured-text text-center text-lg-left">
                        <h4>Principales minas en Chile</h4>
                        <p class="text-black-50 mb-0">Existen actualmente más de 9 divisiones mineras realizando actividades relacionadas al cobre, distribuidas en más de 20 emplazamientos mineros en Chile. Aquí se pueden observar algunas de las principales minas que están operando actualmente en el país.</p>
                    </div>
                </div>
            </div>

            <!-- PRIMER GRÁFICO -->
            <div class="row justify-content-center no-gutters mb-5 mb-lg-0">
                <div class="col-lg-6">
                    <svg id="chart-1"></svg>
                </div>
                <div class="col-lg-6">
                    <div class="bg-black text-center h-100 project">
                        <div class="d-flex h-100">
                            <div class="project-text w-100 my-auto text-center text-lg-left">
                                <h4 class="text-white">Principales exportaciones del Cobre en el mundo</h4>
                                <p class="mb-0 text-white-50">Las exportaciones de Mineral de cobre fueron de $ 11,27 miles de millones, siendo China el principal destino de las exportaciones, alcanzando un 44,0 %, seguido de Japón y India, con un 22,9 % y 10,8 % respectivamente.  
                                </p>
                                <hr class="d-none d-lg-block mb-0 ml-0">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- SEGUNDO GRÁFICO -->
            <div class="row justify-content-center no-gutters">
                <div class="col-lg-6">
                    <svg id="chart-2"></svg>
                </div>
                <div class="col-lg-6 order-lg-first">
                    <div class="bg-black text-center h-100 project">
                        <div class="d-flex h-100">
                            <div class="project-text w-100 my-auto text-center text-lg-right">
                                <h4 class="text-white">Uso del cobre a nivel mundial</h4>
                                <p class="mb-0 text-white-50">Actualmente, el cobre se utiliza en la construcción de edificios, la generación y transmisión de energía, la fabricación de productos electrónicos y la producción de maquinaria industrial y vehículos de transporte. El cableado y la plomería de cobre son parte integral de los electrodomésticos, los sistemas de calefacción y refrigeración, y los enlaces de telecomunicaciones que se utilizan todos los días en los hogares y las empresas. </p>
                                <hr class="d-none d-lg-block mb-0 mr-0">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black small text-center text-white-50">
        <div class="container">
            <p><span class="titular"></span> fue desarrollado por Matías Vivanco para Multimedia II</p>
            <p>Segundo semestre, 2018 · Diseño Gráfico</p>
            <p>Universidad de Chile</p>
            <p><a href="#page-top"><i class="fas fa-arrow-alt-circle-up"></i></a></p>
        </div>
    </footer>

    <!-- Vamos a buscar algo de JavaScript -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

    <!--ahora aprovechamos que Bootstrap necesita jQuery, para manipular el DOM-->
    <script>
        (function($) {
            "use strict"; // Start of use strict

            $(".titular").text("EL COBRE EN CHILE");
        })(jQuery); // End of use strict
    </script>

    <!--el tema de bootstrap que usamos necesita este script para funcionar-->
    <script src="js/theme.js"></script>

    <!--acá comienzan las visualizaciones-->

    <!--primero el mapa

    https://es.datachile.io/products/productos-minerales-05/mineral-de-cobre-052603

    https://es.wikipedia.org/wiki/Gran_Miner%C3%ADa_del_Cobre_en_Chiles
    
    -->

    <script>
        var mymap = L.map('leaflet').setView([-24.9740291,-70.1428094], 5);

        var georeferencias = [
        {
            lugar: "Borlando",
            coordenadas: [-23.746693,-70.4420194],
            numero: 2
        }, {
            lugar: "Chuquicamata",
            coordenadas: [-22.3090203,-68.9188422],
            numero: 3
        }, {
            lugar: "Humberstone",
            coordenadas: [-20.2067669,-69.8010733],
            numero: 2
        }, {
            lugar: "San Pedro",
            coordenadas: [-20.4036414,-69.868141],
            numero: 2
        }, {
            lugar: "Cerro Colorado",
            coordenadas: [-20.0504507,-69.2652294],
            numero: 2
        }, {
            lugar: "Sagasca",
            coordenadas: [-20.2088564,-69.350939],
            numero: 2
        }, {
            lugar: "Collahuasi",
            coordenadas: [-20.9725496,-68.7057733],
            numero: 2
        }, {
            lugar: "Quebrada Blanca",
            coordenadas: [-21.002226,-68.8057622],
            numero: 2
        }, {
            lugar: "El Abra",
            coordenadas: [-21.9196976,-68.8301607],
            numero: 2
        }, {
            lugar: "Spence",
            coordenadas: [-22.7945176,-69.2527096],
            numero: 2
        }, {
            lugar: "Sierra Gorda",
            coordenadas: [-22.8540149,-69.3392621],
            numero: 2
        }, {
            lugar: "Michilla",
            coordenadas: [-22.6804335,-70.1712505],
            numero: 2
        }, {
            lugar: "Centinela",
            coordenadas: [-22.9726748,-69.0597573],
            numero: 3
        }, {
            lugar: "Cobija",
            coordenadas: [-22.6046472,-70.1641328],
            numero: 2
        }, {
            lugar: "Mantos Blancos",
            coordenadas: [-23.4315529,-70.0652075],
            numero: 2
        }, {
            lugar: "Lomas Bayas",
            coordenadas: [-23.436688,-69.5124692],
            numero: 2
        }, {
            lugar: "Gabriela Mistral",
            coordenadas: [-23.4154216,-68.8176949],
            numero: 2
        }, {
            lugar: "Negra",
            coordenadas: [-23.7659359,-70.311661],
            numero: 2
        }, {
            lugar: "Escondida",
            coordenadas: [-24.2373911,-69.0606294],
            numero: 3
        }, {
            lugar: "Las Cenizas",
            coordenadas: [-25.6700745,-70.5906683],
            numero: 2
        }, {
            lugar: "El Salvador",
            coordenadas: [-26.2581798,-69.5985767],
            numero: 3
        }, {
            lugar: "Almagro",
            coordenadas: [-26.4266688,-70.0354457],
            numero: 2
        }, {
            lugar: "Almagro2",
            coordenadas: [-26.3935597,-70.1816066],
            numero: 2
        }, {
            lugar: "Salado",
            coordenadas: [-26.4159496,-70.3173754],
            numero: 2
        }, {
            lugar: "Manto Verde",
            coordenadas: [-26.5384017,-70.319425],
            numero: 2
        }, {
            lugar: "Potrerillos",
            coordenadas: [-26.4385287,-69.4787606],
            numero: 2
        }, {
            lugar: "Tierra Amarilla",
            coordenadas: [-27.4698831,-70.2653636],
            numero: 2
        }, {
            lugar: "Caserones",
            coordenadas: [-28.2007203,-69.5635832],
            numero: 2
        }, {
            lugar: "Relincho ",
            coordenadas: [-28.5178977,-70.3088557],
            numero: 2
        }, {
            lugar: "Vallenar ",
            coordenadas: [-28.5490322,-70.740371],
            numero: 2
        }
        ];
        
        L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
            maxZoom: 8,
            minZoom: 3,
            id: 'mapbox.streets'
            
        }).addTo(mymap);
        
        for (var x = 0; x < georeferencias.length; x++) {
            lat = georeferencias[x].coordenadas[0];
            lon = georeferencias[x].coordenadas[1];
            p = georeferencias[x].numero;
            circle = L.circle([lat, lon], {
                fillColor: '#F65C1D',
                fillOpacity: 0.8,
                weight: 0,
                radius: 8000 * p
            }).addTo(mymap);
            console.log(lat + "," + lon);
        }
    </script>

    <!--luego voy a buscar una biblioteca que Data Driven Documents (DDD = d3)-->

    <script src="https://d3js.org/d3.v5.min.js"></script>

    <!--esto es para un gráfico -->

   <script>

        var exportaciones = [
        {pais: "China", valor: 5000 },
        {pais: "Japón", valor: 3000 },
        {pais: "India", valor: 1000},
        {pais: "España", valor:632},
        {pais: "Corea del Sur", valor:564},
        {pais: "Alemania", valor:230},
        {pais: "Bulgaria", valor:219},
        {pais: "Taiwán", valor:93},
        {pais: "Finlandia", valor:75}
        ];

        var coso = d3.select("#chart-1").attr("width", "100%").attr("height", "420").style("background", "RGBA(226, 111, 68, 1.00)");

        coso.selectAll("rect").data(exportaciones).enter().append("rect").attr("x",40).attr("y", function(d, i) { return (i + 1) * 40; }).attr("width", function(d) { return d.valor/19 }).attr("height",30).attr("fill","RGBA(255, 210, 210, 1.00)")

        coso.selectAll("text").data(exportaciones).enter().append("text").text(function(d) {return (d.pais + " (" + d.valor + " millones de dólares)")}).attr("text-anchor", "start").attr("x", function(d, i) { return (d.valor/19)+50 }).attr("y", function(d, i) { return ((i + 1) * 40)+20 }).attr("font-family", "Lato").attr("font-size", "12px").attr("fill", "white"); 

    </script>

    <script>
        
    var data = [
                      {name: 'Construcción', copas: 43, color:"#FFD2D2", valor: '43%'},
                      {name: 'Electrónica', copas: 19, color:"#FFD2D2", valor: '19%'},
                      {name: 'Transporte', copas: 19, color:"#FFD2D2", valor: '19%'},
                      {name: 'Consumidores', copas: 12, color:"#FFD2D2", valor: '12%'},
                      {name: 'Maquinaria', copas: 7, color:"#FFD2D2", valor: '7%'}
               ]
    
    var esto = d3.select("#chart-2").attr("width", "100%").attr("height", "400").style("background", "#E26F44");
    var g = esto.selectAll("g")
      .data(data)
      .enter()
      .append("g")  
    
    g.append("circle")
      .attr("cx", function(d, i) { return (90 * (i++)+100); })
      .attr("cy", function(d) { return 200; })
      .attr("r", function(d) { return d.copas*1.3; })
      .attr("fill",function(d){ return d.color; })
        
    g.append("text")
      .attr("x", function(d, i) { return (90 * (i++)+100); })
      .attr("y", function(d, i) { return 130; })
      .attr("fill","black")
      .attr('text-anchor','middle')
      .attr('font-size', '10')
      .text(function(d) { return d.name; })
        
        g.append("text")
      .attr("x", function(d, i) { return (90 * (i++)+100); })
      .attr("y", function(d, i) { return 203; })
      .attr("fill","black")
      .attr('text-anchor','middle')
      .attr('font-size', '10')
      .text(function(d) { return d.valor; })
        
    </script>
    
</body>

</html>